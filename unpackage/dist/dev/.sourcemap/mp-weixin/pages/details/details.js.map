{"version":3,"sources":["webpack:///E:/前端/HXwork/travel/main.js","webpack:///E:/前端/HXwork/travel/pages/details/details.vue?eda8","webpack:///E:/前端/HXwork/travel/pages/details/details.vue?16ac","webpack:///E:/前端/HXwork/travel/pages/details/details.vue?c40f","webpack:///E:/前端/HXwork/travel/pages/details/details.vue?c831","webpack:///E:/前端/HXwork/travel/pages/details/details.vue","webpack:///E:/前端/HXwork/travel/pages/details/details.vue?305d","webpack:///E:/前端/HXwork/travel/pages/details/details.vue?b84d"],"names":["createPage","Page","db","wx","cloud","database","userInfo","collection","comments","name","components","navigation","banner","content","comment","data","showLoading","showNone","showNav","opa","toDatas","toCommentTab","toCommentDetails","onPageScroll","e","top","scrollTop","handleNav","methods","tabScroll","index","thePageScroll","target","query","createSelectorQuery","select","boundingClientRect","selectViewport","scrollOffset","exec","res","pageScrollTo","duration","handleData","where","get","then","datas","console","log","catch","err","handleComments","id","orderBy","length","map","item","commentTab","aboutComment","deNull","filter","deRepeat","Array","from","Set","handleTabComments","tab","renderComment","onLoad"],"mappings":"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","file":"pages/details/details.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/details/details.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./details.vue?vue&type=template&id=7308b585&scoped=true&\"\nvar renderjs\nimport script from \"./details.vue?vue&type=script&lang=js&\"\nexport * from \"./details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./details.vue?vue&type=style&index=0&id=7308b585&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7308b585\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\前端\\\\Alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('7308b585')) {\n      api.createRecord('7308b585', component.options)\n    } else {\n      api.reload('7308b585', component.options)\n    }\n    module.hot.accept(\"./details.vue?vue&type=template&id=7308b585&scoped=true&\", function () {\n      api.rerender('7308b585', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"HXwork/travel/pages/details/details.vue\"\nexport default component.exports","export * from \"-!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./details.vue?vue&type=template&id=7308b585&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./details.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport navigation from './components/navigation.vue'\nimport banner from './components/banner.vue'\nimport content from './components/content.vue'\nimport comment from './components/comment.vue'\nlet db = wx.cloud.database()\nlet userInfo = db.collection('userInfo')\nlet comments = db.collection('comments')\nexport default{\n\tname:'details',\n\tcomponents:{\n\t\tnavigation,\n\t\tbanner,\n\t\tcontent,\n\t\tcomment\n\t},\n\tdata(){\n\t\treturn{\n\t\t\tshowLoading:true,\n\t\t\tshowNone:false,\n\t\t\tdata:'',\n\t\t\tshowNav:false,\n\t\t\topa:0,\n\t\t\ttoDatas:{},\n\t\t\ttoCommentTab:[],\n\t\t\ttoCommentDetails:[]\n\t\t}\n\t},\n\tonPageScroll(e){\n\t\tlet top = e.scrollTop\n\t\tthis.handleNav(top)\n\t},\n\tmethods:{\n\t\ttabScroll(index){\n\t\t\tif(index === 1){\n\t\t\t\tthis.thePageScroll('.scroll-content')\n\t\t\t}else{\n\t\t\t\tthis.thePageScroll('.scroll-comment')\n\t\t\t}\n\t\t},\n\t\tthePageScroll(target){\n\t\t\tconst query = wx.createSelectorQuery()\n\t\t\tquery.select(target).boundingClientRect()\n\t\t\tquery.selectViewport().scrollOffset()\n\t\t\tquery.exec(function(res){\n\t\t\t  wx.pageScrollTo({\n\t\t\t\t  scrollTop:res[0].top + res[1].scrollTop - 40,\n\t\t\t\t  duration:300\n\t\t\t  })\n\t\t\t})\n\t\t},\n\t\thandleNav(top){\n\t\t\tif(top > 90){\n\t\t\t\tthis.showNav = true\n\t\t\t\tlet opa = top / 170\n\t\t\t\topa = opa > 1 ? 1 : opa\n\t\t\t\tthis.opa = opa\n\t\t\t}else{\n\t\t\t\tthis.showNav = false\n\t\t\t}\n\t\t},\n\t\thandleData(data){\n\t\t\tuserInfo.where({\n\t\t\t\t\"_id\":data\n\t\t\t}).get()\n\t\t\t.then(res=>{\n\t\t\t\tthis.toDatas = res.data[0].datas\n\t\t\t\tconsole.log(res)\n\t\t\t\tthis.showLoading = false\n\t\t\t\tconsole.log(this.toDatas)\n\t\t\t})\n\t\t\t.catch(err=>{\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t},\n\t\thandleComments(data){\n\t\t\tcomments.where({\n\t\t\t\tid:data\n\t\t\t}).orderBy('aboutComment.time', 'desc')\n\t\t\t.get()\n\t\t\t.then(res=>{\n\t\t\t\tif(res.data.length === 0){\n\t\t\t\t\tthis.showNone = true\n\t\t\t\t}else{\n\t\t\t\t\tthis.showNone = false\n\t\t\t\t\tthis.toCommentTab = res.data.map(item=>{\n\t\t\t\t\t\treturn item.commentTab\n\t\t\t\t\t})\n\t\t\t\t\tthis.toCommentDetails = res.data.map(item=>{\n\t\t\t\t\t\treturn item.aboutComment\n\t\t\t\t\t})\n\t\t\t\t\tlet deNull = this.toCommentTab.filter(item=>item)\n\t\t\t\t\tlet deRepeat = Array.from(new Set(deNull))\n\t\t\t\t\tthis.toCommentTab = deRepeat\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err=>{\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t},\n\t\thandleTabComments(id,tab){\n\t\t\tthis.showNone = false\n\t\t\tcomments.where({\n\t\t\t\tid:id,\n\t\t\t\tcommentTab:tab\n\t\t\t}).orderBy('aboutComment.time', 'desc')\n\t\t\t.get()\n\t\t\t.then(res=>{\n\t\t\t\tthis.toCommentDetails = res.data.map(item=>{\n\t\t\t\t\treturn item.aboutComment\n\t\t\t\t})\n\t\t\t\tconsole.log(res)\n\t\t\t})\n\t\t\t.catch(err=>{\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t},\n\t\trenderComment(item){\n\t\t\tconsole.log(item)\n\t\t\tif(item === '全部'){\n\t\t\t\tthis.handleComments(this.data)\n\t\t\t}else{\n\t\t\t\tthis.handleTabComments(this.data,item)\n\t\t\t}\n\t\t}\n\t},\n\tonLoad(e){\n\t\tconsole.log(e)\n\t\tlet id = e.id\n\t\tthis.data = id\n\t\tthis.handleData(this.data)\n\t\tthis.handleComments(this.data)\n\t}\n}\n","import mod from \"-!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./details.vue?vue&type=style&index=0&id=7308b585&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./details.vue?vue&type=style&index=0&id=7308b585&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}